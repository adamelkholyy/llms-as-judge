
# removed Character Development and Commonsense & Reality, added Rhythm and Flow
system_prompt_3 = """You are an English literature expert specializing in children's stories. Your task is to rate a given children's story generated by a Large Language Model (LLM). You will receive the prompt that was given to the LLM and the suggested reading age of the story. Please rate the story using the following criteria:

1. **Appropriateness**: Ensure the language, themes, and content are suitable for the suggested reading age.
2. **Engagement**: Evaluate whether the story is fun and captivating for a child's imagination, with engaging characters and plots.
3. **Clarity**: Assess if the story is easy to understand, with no confusing elements or language, considering the reading age.
4. **Coherence**: Check if the plot and sentences are logically structured and connected, creating a seamless narrative.
5. **Rhythm and Flow**: Consider how the story sounds when read aloud, assessing its rhythm and flow. 
6. **Ending**: Verify the story has a satisfying and clear resolution that resonates with a child's understanding.
7. **Surprise and Wonder**: Determine if the story includes elements that spark curiosity and surprise, fostering a sense of wonder.

Remember that your assessment should reflect a child's perspective, focusing on their enjoyment and comprehension, while ensuring the story remains suitable and engaging for their age group."""

ivo_story_assessment_s3 = """
Title: "Can You Roar on Snowy Mountain?"

**Appropriateness (9/10):** The language and themes of this story are quite suitable for a young audience, particularly around the age of 2. The focus on sounds and movements encourages interactive reading, which is appropriate for toddlers who enjoy engaging their senses in stories. The inclusion of animals and a realistic setting like Snowy Mountain is relatable and understandable for this age group, though the mention of a wildlife park suggests a more structured environment that might need parental explanation.

**Engagement (8/10):** The story cleverly prompts interaction through noises and movements, making it engaging for a child's imagination. By encouraging children to mimic animal sounds and actions, it holds a toddler’s attention effectively. However, the setting of Snowy Mountain might be better appreciated with more vivid description or illustration to fully engage a 2-year-old's visual interest.

**Clarity (9/10):** The story is clear and straightforward, using simple language that is likely comprehensible to toddlers. Each page introduces a new sound or action related to an animal or character, making it easy for the child to follow along. The narrative may benefit from illustrations to clarify certain concepts, like the lion at a wildlife park.

**Coherence (8/10):** The story maintains a logical sequence of events, transitioning smoothly from one animal or action to the next. However, the inclusion of diverse elements like a female runner and bubbles, while adding variety, could confuse very young readers without visuals to tie everything together.

**Rhythm and Flow (8/10):** The repetitive structure of “Can you [action] like a [animal]?”, supports a rhythmic flow, which is beneficial for reading aloud to children. The rhythm encourages participation, though it could improve with more varied sentence structures to prevent monotony.

**Ending (7/10):** The ending is gentle and fitting for a young audience, inviting them to reflect on the sounds they’ve learned. While it's satisfying, reinforcing the storytelling by reiterating the adventure's highlights might enhance closure for a child's understanding.

**Surprise and Wonder (7/10):** The story introduces a sense of wonder through the diverse sounds and actions. While it successfully piques curiosity, adding more fantastical or unexpected elements could further stimulate a child's imagination. The setting of Snowy Mountain offers potential that could be explored more vibrantly.

Overall Rating: 8/10

This story is very fitting for its intended age group, with engaging and interactive elements that can captivate a child’s attention. Enhancements could be made in diversifying the narrative flow and making the setting and characters more vivid to fully capture the wonder a young child is capable of experiencing."""


system_prompt_2 = """You are an English literature expert specializing in children's stories. Your task is to rate a given children's story generated by a Large Language Model (LLM). You will receive the prompt that was given to the LLM and the suggested reading age of the story. Please rate the story using the following criteria:

1. **Appropriateness**: Ensure the language, themes, and content are suitable for the suggested reading age.
2. **Engagement**: Evaluate whether the story is fun and captivating for a child's imagination, with engaging characters and plots.
3. **Clarity**: Assess if the story is easy to understand, with no confusing elements or language, considering the reading age.
4. **Coherence**: Check if the plot and sentences are logically structured and connected, creating a seamless narrative.
5. **Character Development**: Consider whether the characters are relatable and contribute positively to the story, enhancing imagination and role model behavior.
6. **Commonsense and Reality**: Ensure the story respects basic commonsense knowledge and social norms, avoiding stereotypes or awkward phrases.
7. **Ending**: Verify the story has a satisfying and clear resolution that resonates with a child's understanding.
8. **Surprise and Wonder**: Determine if the story includes elements that spark curiosity and surprise, fostering a sense of wonder.

Remember that your assessment should reflect a child's perspective, focusing on their enjoyment and comprehension, while ensuring the story remains suitable and engaging for their age group."""

ivo_story_assessment_s2 = """ChatCompletionMessage(content='**Title: "Can You Roar Like a Lion on Snowy Mountain?"**\n\n1. **Appropriateness**: 7/10  \n   The language and content are generally suitable for a two-year-old, focusing on sounds and animal behaviors, which fits the curiosity and learning stage of this age. However, the concept of understanding why animals make these sounds might be a bit advanced for this age.\n\n2. **Engagement**: 6/10  \n   The story promotes interaction by encouraging children to mimic animal sounds and movements, which can be quite engaging. However, the setting on a snowy mountain and the inclusion of specific animals like lions might not fully resonate with a child\'s familiar context.\n\n3. **Clarity**: 7/10  \n   The story is largely clear and easy to follow. Each page or segment introduces a new sound or action, which is typically straightforward for young listeners. However, the mention of a \'wildlife park\' in the context of a snowy mountain might confuse very young children.\n\n4. **Coherence**: 6/10  \n   The narrative is cohesive in the sense that it follows Ivo through his adventure in exploring sounds. However, the transition from natural settings to man-made elements (like a female runner and a wildlife park) might seem disjointed in the narrative flow.\n\n5. **Character Development**: 5/10  \n   Ivo, the character, serves as a guide through the sounds, but there is minimal character development. For a story aimed at young children, more focus on how Ivo feels about his exploration might add depth to his character.\n\n6. **Commonsense and Reality**: 7/10  \n   The story respects common sense to an extent, introducing real sounds that animals and people make. However, the presence of a lion in a snowy mountain setting, even within a wildlife park, stretches realism for a toddler\'s understanding.\n\n7. **Ending**: 7/10  \n   The conclusion offers a reflective moment that encourages children to recall and mimic the sounds, which is suitable and satisfying for the story\'s theme.\n\n8. **Surprise and Wonder**: 6/10  \n   The story contains elements of wonder through exploration of sounds and actions. However, it might benefit from more imaginative or unexpected sound choices related to the snowy mountain setting to fully captivate imagination.\n\n**Overall Rating**: 6.5/10  \nThe story effectively engages a young child through sound and movement, which is age-appropriate. Enhancing coherence and ensuring elements fully resonate with a two-year-old’s understanding and reality could improve its effectiveness.', refusal=None, role='assistant', audio=None, function_call=None, tool_calls=None)"""


system_prompt_1 = """You are an English literature expert tasked with rating a given children's story that has been generated by a Large Language Model (LLM). You will be supplied with the prompt that was given to the LLM and the suggested reading age of the story. Please rate the given story using the following criteria:

Relevance: Whether the story is relevant to and reasonably reflects the source input.
Diversity: Whether the stories generated by one model have many variations.
Fluency: Whether the individual sentences within a story are of high quality. They should be grammatically correct, free of typos, non-repetitive, and in line with common language usage.
Grammaticality: Whether the individual sentences are grammatically correct without lexical or syntax errors. Note it focuses on syntax only, not semantics.
Coherence: Whether all sentences and plots are well structured, with the context organized and connected logically. Evaluating coherence usually ignores grammar or spelling errors.
Cohesion: Whether the sentences in a story are formally connected. They can be connected by either referential links (co-reference, bridging anaphora) or by semantic connectors.
Consistency: Whether the sentences are logically aligned with the preceding story.
Implicit Relevance: Whether a story follows the same topic from beginning to end.
Completeness: Whether the story covers all its underlying concepts, theories, and historical context.
Ending: Whether the story has a clear and rational ending.
Clarity: Whether the story is clear and easy to understand, with no confusing or ambiguous elements.
Commonsense: Whether the story adheres to commonsense knowledge, such as physical entities and social interactions.
Informativeness/Complexity: Whether the story contains rich and detailed information to support its progression and world-building.
Character Development: Whether the story features well-developed and engaging characters that are believable, relatable, and contribute to the overall narrative or theme.
Interestingness/Engagement: Whether the story is highly enjoyable or entertaining to read, with rich details and descriptions that engage the readers’ senses and imagination.
Empathy: Whether the story arouses the readers’ emotional experience, passion, and empathy.
Surprise: Whether the story creates suspense and surprise, especially in mystery fictions.

It is key to remember that you are assessing a children's story. Factor in the suggested reading age into your assessment - you do not want the language to be too easy or too difficult for a child of the suggested reading age to understand. Also important to remember is that children's books should be fun and engaging to their audience.
"""

ivo_story_assessment_s1 = """ChatCompletionMessage(content='**Title**: "Sounds of Snowy Mountain"\n\n**Relevance**: 8/10  \nThe story effectively captures the prompt\'s intention, introducing sounds made by animals and encouraging interactive participation, though some elements like the fairground or clowns are absent. Including a female runner and bubbles adds diversity, though their relevance is slightly forced.\n\n**Diversity**: 7/10  \nThe story includes a mix of animal sounds and activities, which offers some diversity.However, the narrative could incorporate more animals or environmental sounds to further variation.\n\n**Fluency**: 9/10  \nThe sentences are clear and easy to understand, appropriate for a very young audience. They are mostly free of grammatical faults and are not repetitive.\n\n**Grammaticality**: 10/10  \nThe sentences are grammatically correct with no apparent syntax errors.\n\n**Coherence**: 8/10  \nThe story maintains a consistent flow from one sound to another, each preceded by an introductory observation made by Ivo. However, the inclusion of a wildlife park might need more context within the Snowy Mountain setting.\n\n**Cohesion**: 9/10  \nThe narrative is cohesive, with each action and sound logically following Ivo\'s journey. The use of transitional actions helps connect the story.\n\n**Consistency**: 9/10  \nEach part of the story follows logically from the previous one, maintaining consistency in theme and character actions.\n\n**Implicit Relevance**: 8/10  \nThe story remains focused on sounds and the actions associated with different characters and animals. However, the inclusion of bubbles and the female runner feels slightly out of place and less integrated.\n\n**Completeness**: 7/10  \nThe story covers a variety of sounds with some factual tidbits, but it could include more educational content relevant to the Snowy Mountain setting.\n\n**Ending**: 9/10  \nThe story concludes well with Ivo reflecting on his experiences, inviting young readers to recall and engage with the sounds, marking a clear ending.\n\n**Clarity**: 10/10  \nThe story is very clear and easy to understand, ideal for the suggested reading age.\n\n**Commonsense**: 9/10  \nMost elements make sense for a young audience, though the presence of a lion in a snowy setting could raise questions about realism.\n\n**Informativeness/Complexity**: 7/10  \nThe story provides simple facts about animal behaviors, which is appropriate for the intended age. However, it could give more distinct character or setting details to enrich the narrative.\n\n**Character Development**: 7/10  \nIvo is developed through his curiosity and actions, but the story focuses more on activities than character development.\n\n**Interestingness/Engagement**: 8/10  \nThe interactive nature of the story, asking readers to mimic sounds and movements, is engaging. More sensory details could further enhance interest.\n\n**Empathy**: 6/10  \nWhile the story encourages mimicry, it lacks emotional elements that might arouse empathy or deeper emotional connection.\n\n**Surprise**: 6/10  \nThe story is straightforward, with limited surprises or twists. Adding unexpected sounds or activities might increase intrigue.\n\nOverall, the story serves well for the suggested reading age of 2, being simple, interactive, and educational, though it benefits from a few elements of greater diversity and depth. The score reflects its effectiveness for very young children: **8/10**.', refusal=None, role='assistant', audio=None, function_call=None, tool_calls=None)"""


rewrite_prompt = """The following is a prompt I am using to have an LLM rate children's stories. I want to improve the prompt, perhaps by excluding some of the rating criteria and includes one which make more sense for children. I also noticed that the LLM rates stories rather well with this prompt. however still makes some errors where a human might notice. For example, the LLM did not downgrade the story for using the phrase "female runner" - which a human might find odd in a children's book.
prompt = You are an English literature expert tasked with rating a given children's story that has been generated by a Large Language Model (LLM). You will be supplied with the prompt that was given to the LLM and the suggested reading age of the story. Please rate the given story using the following criteria:

Relevance: Whether the story is relevant to and reasonably reflects the source input.
Diversity: Whether the stories generated by one model have many variations.
Fluency: Whether the individual sentences within a story are of high quality. They should be grammatically correct, free of typos, non-repetitive, and in line with common language usage.
Grammaticality: Whether the individual sentences are grammatically correct without lexical or syntax errors. Note it focuses on syntax only, not semantics.
Coherence: Whether all sentences and plots are well structured, with the context organized and connected logically. Evaluating coherence usually ignores grammar or spelling errors.
Cohesion: Whether the sentences in a story are formally connected. They can be connected by either referential links (co-reference, bridging anaphora) or by semantic connectors.
Consistency: Whether the sentences are logically aligned with the preceding story.
Implicit Relevance: Whether a story follows the same topic from beginning to end.
Completeness: Whether the story covers all its underlying concepts, theories, and historical context.
Ending: Whether the story has a clear and rational ending.
Clarity: Whether the story is clear and easy to understand, with no confusing or ambiguous elements.
Commonsense: Whether the story adheres to commonsense knowledge, such as physical entities and social interactions.
Informativeness/Complexity: Whether the story contains rich and detailed information to support its progression and world-building.
Character Development: Whether the story features well-developed and engaging characters that are believable, relatable, and contribute to the overall narrative or theme.
Interestingness/Engagement: Whether the story is highly enjoyable or entertaining to read, with rich details and descriptions that engage the readers’ senses and imagination.
Empathy: Whether the story arouses the readers’ emotional experience, passion, and empathy.
Surprise: Whether the story creates suspense and surprise, especially in mystery fictions.

It is key to remember that you are assessing a children's story. Factor in the suggested reading age into your assessment - you do not want the language to be too easy or too difficult for a child of the suggested reading age to understand. Also important to remember is that children's books should be fun and engaging to their audience.
"""
rewrite_prompt_response = """ChatCompletionMessage(content="Sure, let's streamline the prompt and make it more suitable for evaluating children's stories. We'll remove some criteria that may not be as relevant, focus on child-friendly aspects, and include considerations for appropriate language usage. Here's a revised version:\n\n---\n\nYou are an English literature expert specializing in children's stories. Your task is to rate a given children's story generated by a Large Language Model (LLM). You will receive the prompt that was given to the LLM and the suggested reading age of the story. Please rate the story using the following criteria:\n\n1. **Appropriateness**: Ensure the language, themes, and content are suitable for the suggested reading age.\n\n2. **Engagement**: Evaluate whether the story is fun and captivating for a child's imagination, with engaging characters and plots.\n\n3. **Clarity**: Assess if the story is easy to understand, with no confusing elements or language, considering the reading age.\n\n4. **Coherence**: Check if the plot and sentences are logically structured and connected, creating a seamless narrative.\n\n5. **Character Development**: Consider whether the characters are relatable and contribute positively to the story, enhancing imagination and role model behavior.\n\n6. **Commonsense and Reality**: Ensure the story respects basic commonsense knowledge and social norms, avoiding stereotypes or awkward phrases.\n\n7. **Ending**: Verify the story has a satisfying and clear resolution that resonates with a child's understanding.\n\n8. **Surprise and Wonder**: Determine if the story includes elements that spark curiosity and surprise, fostering a sense of wonder.\n\nRemember that your assessment should reflect a child's perspective, focusing on their enjoyment and comprehension, while ensuring the story remains suitable and engaging for their age group.", refusal=None, role='assistant', audio=None, function_call=None, tool_calls=None)"""


if __name__ == "__main__":
    print(ivo_story_assessment_s2)